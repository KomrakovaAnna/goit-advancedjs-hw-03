{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const gallery = document.querySelector('.gallery');\n\nexport const renderGallery = images => {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n  src=\"${webformatURL}\"\n  data-source=\"${largeImageURL}\"\n  data-tags=\"${tags}\"\n  data-likes=\"${likes}\"\n  data-views=\"${views}\"\n  data-comments=\"${comments}\"\n  data-downloads=\"${downloads}\"\n  alt=\"Image description\"\n    />\n  </a>\n  <div >\n  <ul class=\"stats\">\n    <li class=\"stat-item\">\n    <div class=\"stat-header\">Likes</div>\n    <div class=\"stat-value\">${likes}</div>\n    </li>\n    <li class=\"stat-item\">\n    <div class=\"stat-header\">Views</div>\n    <div class=\"stat-value\">${views}</div>\n    </li>\n    <li class=\"stat-item\">\n    <div class=\"stat-header\">Comments</div>\n    <div class=\"stat-value\">${comments}</div>\n    </li>\n    <li class=\"stat-item\">\n    <div class=\"stat-header\">Downloads</div>\n    <div class=\"stat-value\">${downloads}</div>\n    </li>\n  </ul>\n</div>\n</li>`;\n      }\n    )\n    .join('');\n};\n","const API_KEY = '45172524-3969727cd49dc0a3e64f2f5a7';\n\nexport const apiCall = (searchValue) => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n  .catch(error => {\n    console.error(error);\n      throw error;\n    \n  });\n};\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport * as render from './js/render-functions.js';\nimport * as apiCalls from './js/pixabay-api.js';\nimport iziToast from 'izitoast';\n\nconst searchForm = document.querySelector('.search__form');\nconst loaderPlaceholder = document.querySelector('.js__loader');\nconst galleryEL = document.querySelector('.gallery');\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const searchValue = event.target.elements.user_query.value.trim();\n  if (searchValue === '') {\n    iziToast.error({\n      message: 'Input something to search!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  loaderPlaceholder.classList.remove('is-hidden');\n  apiCalls\n    .apiCall(searchValue)\n    .finally(() => {\n      loaderPlaceholder.classList.add('is-hidden');\n    })\n    .then(({ hits }) => {\n      if (!hits || hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        event.target.reset();\n        return;\n      }\n      clearGallery();\n      const galleryHTML = render.renderGallery(hits);\n      galleryEL.innerHTML = galleryHTML;\n      // const lightbox = new SimpleLightbox('.gallery a');\n      gallery.refresh();\n    });\n};\n\nfunction clearGallery() {\n  galleryEL.innerHTML = '';\n}\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["renderGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","apiCall","searchValue","searchParams","response","error","searchForm","loaderPlaceholder","galleryEL","onSearchFormSubmit","event","iziToast","apiCalls\n    .apiCall","hits","clearGallery","galleryHTML","render.renderGallery","gallery","SimpleLightbox"],"mappings":"6vBAAgB,SAAS,cAAc,UAAU,EAE1C,MAAMA,EAAgBC,GACpBA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,kCACmBL,CAAa;AAAA;AAAA;AAAA,SAGtCD,CAAY;AAAA,iBACJC,CAAa;AAAA,eACfC,CAAI;AAAA,gBACHC,CAAK;AAAA,gBACLC,CAAK;AAAA,mBACFC,CAAQ;AAAA,oBACPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAQCH,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAMlC,EACA,KAAK,EAAE,ECnDNC,EAAU,qCAEHC,EAAWC,GAAgB,CACtC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACtD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,EACA,MAAMC,GAAS,CACd,cAAQ,MAAMA,CAAK,EACXA,CAEZ,CAAG,CACH,ECfMC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAoB,SAAS,cAAc,aAAa,EACxDC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMR,EAAcQ,EAAM,OAAO,SAAS,WAAW,MAAM,OAC3D,GAAIR,IAAgB,GAAI,CACtBS,EAAS,MAAM,CACb,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDJ,EAAkB,UAAU,OAAO,WAAW,EAC9CK,EACWV,CAAW,EACnB,QAAQ,IAAM,CACbK,EAAkB,UAAU,IAAI,WAAW,CACjD,CAAK,EACA,KAAK,CAAC,CAAE,KAAAM,KAAW,CAClB,GAAI,CAACA,GAAQA,EAAK,SAAW,EAAG,CAC9BF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDD,EAAM,OAAO,QACb,MACD,CACDI,IACA,MAAMC,EAAcC,EAAqBH,CAAI,EAC7CL,EAAU,UAAYO,EAEtBE,EAAQ,QAAO,CACrB,CAAK,CACL,EAEA,SAASH,GAAe,CACtBN,EAAU,UAAY,EACxB,CAEAF,EAAW,iBAAiB,SAAUG,CAAkB,EAExD,MAAMQ,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAChB,CAAC"}